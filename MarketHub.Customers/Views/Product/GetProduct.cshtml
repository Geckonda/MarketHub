@model ProductViewModel
@{
    ViewData["Title"] = Model.Name + " - MarketHub";
    float mark = 0;
    if(Model.Reviews.Count  != 0)
        mark = Model.Reviews.Select(x => x.Stars).Average();
}
@section Styles {
    <link rel="stylesheet" href="~/css/Products/GetProduct.css" asp-append-version="true" />
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a asp-action="Index" asp-controller="Home">Главная</a>
        </li>
        <li class="breadcrumb-item">
            <a asp-action="Index" asp-controller="Catalog">@Model.Subcategory!.Category!.Name</a>
        </li>
        <li class="breadcrumb-item">
            <a asp-action="Index" asp-controller="Catalog">@Model.Subcategory!.Name</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
            @Model.Name
        </li>
    </ol>
</nav>
<div class="product">
    <div class="product__table">
        <div class="product__img">
            <img src="@Model.Img" alt="..." class="product__img">
        </div>
        <div class="product__info info">
            <h3 class="product__name"> @Model.Name</h3>
            <div class="review-info">
                <div class="review-info__stars-block">
                    <div class="star"></div>
                    <div class="star"></div>
                    <div class="star"></div>
                    <div class="star"></div>
                    <div class="star"></div>
                    <span class="star-value">@mark.ToString("0.0")</span>
                </div>
                <div class="review-info__amount">
                    Отзывов: @Model.Reviews.Count 
                </div>
            </div>
            <p class="product__color">Цвет: <b id="color">@Model.Color</b></p>
            <p class="product__size">Размер: <b id="size"></b></p>
            <div class="product__size-container">
                @foreach(var size in Model.Sizes.OrderBy(s => s.Name))
                {
                    <div class="product__size-icon" data-size-amount="@size.Amount">@size.Name</div>
                }
            </div>
        </div>
        <div class="product__panel">
            <div class="product__operation">
                <h2 class="product__price">@Model.Price₽</h2>
                <button class="basket-btn">Добавить в корзину</button>
                <div class="product__amount"><img src="~/img/Product/sfdsf.png" alt=""> В наличии <span id="amount">@Model.Amount</span></div>
            </div>
            <div class="product__seller">
                <img src="~/img/Product/uikkyuj.png" alt="@Model.Seller!.Name">
                @Model.Seller.Name
            </div>
        </div>
        <div class="product__description description">
            <h4 class="description__title">О товаре</h4>
            <p class="description__text">@Model.Description</p>
        </div>
        <div class="product__reviews reviews">
            <h4 class="reviews__title">Отзывы</h4>
            <div class="reviews__column">
                <div class="review">
                    
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/js/Product/size.js"></script>
}
